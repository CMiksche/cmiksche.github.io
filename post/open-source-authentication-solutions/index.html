<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Open Source Authentication Solutions :: M5E&#39;s Blog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Imagine you run a company and provide multiple web applications for your customers. In the beginning, you probably created a user table and the authentication methods yourself, but from the second application onwards, you will think about using already made open source solutions.
That&amp;rsquo;s the situation I am in right now. I run multiple web applications, which each have their own auth mechanisms and user tables. This means, a user from App1 can&amp;rsquo;t use App2 unless he creates a new account." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://blog.m5e.de/post/open-source-authentication-solutions/" />




<link rel="stylesheet" href="https://blog.m5e.de/assets/style.css">



<link rel="stylesheet" href="https://blog.m5e.de/style.css">


<link rel="apple-touch-icon" href="https://blog.m5e.de/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://blog.m5e.de/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="CMiksche" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Open Source Authentication Solutions">
<meta property="og:description" content="Imagine you run a company and provide multiple web applications for your customers. In the beginning, you probably created a user table and the authentication methods yourself, but from the second application onwards, you will think about using already made open source solutions.
That&amp;rsquo;s the situation I am in right now. I run multiple web applications, which each have their own auth mechanisms and user tables. This means, a user from App1 can&amp;rsquo;t use App2 unless he creates a new account." />
<meta property="og:url" content="https://blog.m5e.de/post/open-source-authentication-solutions/" />
<meta property="og:site_name" content="M5E&#39;s Blog" />

  
    <meta property="og:image" content="https://blog.m5e.de/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2022-09-05 00:00:00 &#43;0000 UTC" />









<script async src="https://a.chapati.systems/script.js" data-website-id="3e433b5d-32c7-4c9a-b9f5-fd81120a30fb"></script>
<link href="/css/fontawesome.css" rel="stylesheet">
<link href="/css/brands.css" rel="stylesheet">
<link href="/css/solid.css" rel="stylesheet">

</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    M5E&#39;s Blog
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
    <ul class="menu__inner menu__inner--desktop">
      
        
          
            
            <li><a href="https://github.com/cmiksche"><i class="fab fa-github"></i></a></li>
            
          
        
          
            
            <li><a href="https://twitter.com/cmiksche"><i class="fab fa-twitter"></i></a></li>
            
          
        
          
            
            <li><a href="https://mastodon.social/@cmiksche"><i class="fab fa-mastodon"></i></a></li>
            
          
        
          
            
            <li><a href="https://linkedin.com/in/cmiksche/"><i class="fab fa-linkedin"></i></a></li>
            
          
        
          
            
            <li><a href="https://www.instagram.com/cmiksche/"><i class="fab fa-instagram"></i></a></li>
            
          
        
          
            
            <li><a href="/">Home</a></li>
            
          
        
          
            
            <li><a href="/uses">Uses</a></li>
            
          
        
          
            
            <li><a href="/contact">Contact &amp; Imprint</a></li>
            
          
        
        
      
  
      
    </ul>
  
    <ul class="menu__inner menu__inner--mobile">
      
        
          <li><a href="https://github.com/cmiksche">GitHub</a></li>
        
      
        
          <li><a href="https://twitter.com/cmiksche">Twitter</a></li>
        
      
        
          <li><a href="https://mastodon.social/@cmiksche">Mastodon</a></li>
        
      
        
          <li><a href="https://linkedin.com/in/cmiksche/">LinkedIn</a></li>
        
      
        
          <li><a href="https://www.instagram.com/cmiksche/">Instagram</a></li>
        
      
        
          <li><a href="/">Home</a></li>
        
      
        
          <li><a href="/uses">Uses</a></li>
        
      
        
          <li><a href="/contact">Contact &amp; Imprint</a></li>
        
      
      
    </ul>
  </nav>
  
  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://blog.m5e.de/post/open-source-authentication-solutions/">Open Source Authentication Solutions</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-09-05 
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://blog.m5e.de/tags/Open/">Open</a>&nbsp;
    
    #<a href="https://blog.m5e.de/tags/Source/">Source</a>&nbsp;
    
    #<a href="https://blog.m5e.de/tags/Authentication/">Authentication</a>&nbsp;
    
    #<a href="https://blog.m5e.de/tags/Solutions/">Solutions</a>&nbsp;
    
    #<a href="https://blog.m5e.de/tags/OAuth/">OAuth</a>&nbsp;
    
    #<a href="https://blog.m5e.de/tags/OpenID/">OpenID</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <p>Imagine you run a company and provide multiple web applications for your customers. In the beginning, you probably created a user table and the authentication methods yourself, but from the second application onwards, you will think about using already made open source solutions.</p>
<p>That&rsquo;s the situation I am in right now. I run multiple web applications, which each have their own auth mechanisms and user tables. This means, a user from App1 can&rsquo;t use App2 unless he creates a new account.</p>
<h2 id="oauth">OAuth<a href="#oauth" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Before I proceed, let&rsquo;s have a short look how OAuth works:</p>
<ul>
<li>OAuth Clients: That&rsquo;s your typical web application which offers a login via 3rd parties like Google and Facebook</li>
<li>OAuth Servers / Providers: That is an identity provider like e.g. Google or Facebook</li>
</ul>
<p>If you add OAuth to your app, most of the time you just add a OAuth client. That means, customers can log in with existing accounts from other services like Google or Facebook. But they can&rsquo;t use their account at your app for logging into other apps.</p>
<p>When you provide a OAuth server, customers can log in into your applications and also login into 3rd party applications via the API of your identity server.</p>
<h3 id="what-oauth-means-in-my-case">What OAuth means in my case<a href="#what-oauth-means-in-my-case" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>If I would just add OAuth client functionality to my apps, then users could use e.g. their Google Account for all my apps, but my apps wouldn&rsquo;t be connected with each other. Every single app would be displayed as 3rd party on the Google website, and every single app would need to authenticate with Google.</p>
<p>Because I want to provide one login for all Apps (single sign-on - SSO), just adding a OAuth client like most apps do, wouldn&rsquo;t solve this problem.</p>
<p>I need a OAuth server which provides one single identity and one single login to all my apps. This means, all my apps become OAuth clients of my own OAuth server and my OAuth server itself is e.g. a OAuth client for other OAuth servers like Google.
That way, a user could log in into my OAuth server with his existing Google Account and then continue to use all my apps.</p>
<p>So far the theory, now let&rsquo;s look at the realization.</p>
<h2 id="backend-as-a-service-baas">Backend-as-a-Service (BaaS)<a href="#backend-as-a-service-baas" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>In the modern world, solutions like Supabase, PocketBase, Firebase, Appwrite or Parse Server are getting used more and more. One of the reasons is because they handle authentication for you.</p>
<p>There is just one big catch: Nearly all the BaaS solutions are just OAuth Clients! Every single application which you create on them will get their own user table and additionally, you often can&rsquo;t connect custom OAuth Servers but only the popular ones like Google, Facebook, Twitter, GitHub,&hellip;</p>
<p>So my problem wouldn&rsquo;t be solved, because I would still have different user tables and separate login processes. So every single app would be displayed on the Google website as a different OAuth client.</p>
<h2 id="openid-connect--oauth2-servers">OpenID Connect / OAuth2 Servers<a href="#openid-connect--oauth2-servers" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Maybe you have already heard of applications like Keycloak, Ory Hydra, ZITADEL and SuperTokens. These are all auth providers which basically allow you to become some Identity provider like Google yourself.</p>
<p>It could be, that you already run a OAuth2 server without knowing it. E.g. Gitea has such a functionality built-in. I configured my Gitea instance to act as a OAuth server for e.g. my continuous integration and project management applications. I recently also found out, that my ERP Systems would also support auth via OAuth2, so I could set up all the apps inside my company to work just with the Gitea user auth.</p>
<p>If you set up an identity server like ZITADEL, then you have to integrate it into all your apps which may be time-consuming in the beginning, but it is absolutely rewarding:</p>
<ul>
<li>You will never have to create a user table again</li>
<li>Login isn&rsquo;t different for every app, but handled by one service only</li>
<li>If users are logged into your main provider, then all your client applications don&rsquo;t need the user to enter username and password again</li>
<li>Modern auth servers support passwordless auth like FaceID, TouchID or Windows Hello</li>
</ul>
<p>A bit more information about such services:</p>
<h3 id="keycloak">Keycloak<a href="#keycloak" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>One of the oldest and most famous auth servers. Complicated and written in Java.</p>
<h3 id="ory-hydra">Ory Hydra<a href="#ory-hydra" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Modern, written in Go but still complicated in my opinion (Ory provides multiple packages for their auth solutions and it is hard to figure out which of them you need and how to configure them)</p>
<h3 id="zitadel">ZITADEL<a href="#zitadel" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Modern, written in GoLang and in my opinion the one which is easiest to understand.</p>
<h3 id="supertokens">SuperTokens<a href="#supertokens" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Another open source auth server written in Java.</p>
<h2 id="summary">Summary<a href="#summary" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>When I began exploring open source authentication solutions, I was thinking maybe some BaaS platform would help me. After figuring out what I wanted, it was clear that Backend-as-a-Service providers aren&rsquo;t a solution for me and I had to look at a completely different kind of software category.</p>
<p>I don&rsquo;t know which kind of OAuth2 Server I will stick with over the long time, but I am sure that I will use them.</p>
<h2 id="want-to-keep-your-zitadel-instance-uptodate">Want to keep your Zitadel Instance uptodate?<a href="#want-to-keep-your-zitadel-instance-uptodate" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Checkout <a href="https://chapati.systems/autoupdate/">Autoupdate</a>. One tool to update various software which has no built-in auto update functionality.</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://blog.m5e.de/post/linux-setup-zitadel-with-postgresql/">
                <span class="button__icon">←</span>
                <span class="button__text">Linux: Setup ZITADEL with PostgreSQL</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://blog.m5e.de/post/open-source-social-media-management-tools/">
                <span class="button__text">Open Source Social Media Management Tools</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  <div>
  <h2>Advertisement</h2>
  <div id="ana-container"></div>
</div>


<h2>
    
        Comments
    
</h2>

<noscript>
  <div id="error">
    
        Please enable JavaScript to view the comments powered by the Fediverse.
    
  </div>
</noscript>

<p>
    
        You can use your Fediverse (i.e. Mastodon, among many others) account to reply to this <a class="link" href="https://mastodon.social/@cmiksche/108951358057661661">post</a>.
    
</p>
<p id="mastodon-comments-list"></p>

<script src="/js/purify.min.js"></script>
<script type="text/javascript">
  var host = 'mastodon.social';
  var user = 'cmiksche';
  var id = '108951358057661661'

  function escapeHtml(unsafe) {
    return unsafe
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  var commentsLoaded = false;

  function toot_active(toot, what) {
    var count = toot[what+'_count'];
    return count > 0 ? 'active' : '';
  }

  function toot_count(toot, what) {
    var count = toot[what+'_count'];
    return count > 0 ? count : '';
  }

  function user_account(account) {
    var result =`@${account.acct}`;
    if (account.acct.indexOf('@') === -1) {
      var domain = new URL(account.url)
      result += `@${domain.hostname}`
    }
    return result;
  }

  function render_toots(toots, in_reply_to, depth) {
    var tootsToRender = toots.filter(toot => toot.in_reply_to_id === in_reply_to);
    tootsToRender.forEach(toot => render_toot(toots, toot, depth));
  }

  function render_toot(toots, toot, depth) {
    toot.account.display_name = escapeHtml(toot.account.display_name);
    toot.account.emojis.forEach(emoji => {
      toot.account.display_name = toot.account.display_name.replace(`:${emoji.shortcode}:`, `<img src="${escapeHtml(emoji.static_url)}" alt="Emoji ${emoji.shortcode}" height="20" width="20" />`);
    });
    mastodonComment =
      `<div class="mastodon-comment" style="margin-left: calc(10px * ${depth})">
        <div class="author">
          <div class="avatar">
            <img src="${escapeHtml(toot.account.avatar_static)}" height=60 width=60 alt="">
          </div>
          <div class="details">
            <a class="name" href="${toot.account.url}" rel="nofollow">${toot.account.display_name}</a>
            <a class="user" href="${toot.account.url}" rel="nofollow">${user_account(toot.account)}</a>
          </div>
          <a class="date" href="${toot.url}" rel="nofollow">${toot.created_at.substr(0, 10)} ${toot.created_at.substr(11, 8)}</a>
        </div>
        <div class="content">${toot.content}</div>
        <div class="status">
          <div class="replies ${toot_active(toot, 'replies')}">
            <a href="${toot.url}" rel="nofollow"><i class="fa fa-reply fa-fw"></i>${toot_count(toot, 'replies')}</a>
          </div>
          <div class="reblogs ${toot_active(toot, 'reblogs')}">
            <a href="${toot.url}" rel="nofollow"><i class="fa fa-retweet fa-fw"></i>${toot_count(toot, 'reblogs')}</a>
          </div>
          <div class="favourites ${toot_active(toot, 'favourites')}">
            <a href="${toot.url}" rel="nofollow"><i class="fa fa-star fa-fw"></i>${toot_count(toot, 'favourites')}</a>
          </div>
        </div>
      </div>`;
    document.getElementById('mastodon-comments-list').appendChild(DOMPurify.sanitize(mastodonComment, {'RETURN_DOM_FRAGMENT': true}));

    render_toots(toots, toot.id, depth + 1)
  }

  function loadComments() {
    if (commentsLoaded) return;

    document.getElementById("mastodon-comments-list").innerHTML = "Loading comments from the Fediverse...";

    fetch('https://' + host + '/api/v1/statuses/' + id + '/context')
      .then(function(response) {
        return response.json();
      })
      .then(function(data) {
        if(data['descendants'] && Array.isArray(data['descendants']) && data['descendants'].length > 0) {
            document.getElementById('mastodon-comments-list').innerHTML = "";
            render_toots(data['descendants'], id, 0)
        } else {
          document.getElementById('mastodon-comments-list').innerHTML = "<p><i>Not comments found</i></p>";
        }

        commentsLoaded = true;
      });
  }

  function respondToVisibility(element, callback) {
    var options = {
      root: null,
    };

    var observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.intersectionRatio > 0) {
          callback();
        }
      });
    }, options);

    observer.observe(element);
  }

  var comments = document.getElementById("mastodon-comments-list");
  respondToVisibility(comments, loadComments);
</script>

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2023 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://blog.m5e.de/assets/main.js"></script>
<script src="https://blog.m5e.de/assets/prism.js"></script>




<script>
    const adContainer = document.getElementById('ana-container');
    const url = 'https://api.anaads.de/s/BVP6CQ==';
    
     
    fetch(url)
      .then(response => response.json())
      .then(adData => {
        
        const adElement = document.createElement('div');
        adElement.classList.add('ana'); 
    
         
        const titleElement = document.createElement('span');
        const titleLink = document.createElement('a');
        titleLink.href = adData.url;
        titleLink.textContent = adData.title;
        titleElement.className = "ana-title"
        titleElement.appendChild(titleLink);
        adElement.appendChild(titleElement);
    
         
        const textElement = document.createElement('span');
        const textLink = document.createElement('a');
        textLink.href = adData.url;
        textLink.textContent = adData.text;
        textElement.className = "ana-text"
        textElement.appendChild(textLink);
        adElement.appendChild(textElement);
    
         
        adContainer.appendChild(adElement);
      })
      .catch(error => console.error(error));
</script>

  
</div>

</body>
</html>
